# クッキーデストロイモード 企画書

## 概要
数独クリア後にアクセスできる隠し要素。Fruit Ninjaスタイルの爽快なクッキー殲滅ゲーム。

## アクセス方法
- 数独をクリアした際、「タイトルへ戻る」ボタンの下に「怒りが収まらない」ボタンを追加
- ボタンは薄めのデザインで表示
- ボタンを押すとクッキーデストロイモードに遷移

## ゲーム仕様

### 基本ゲームプレイ
- **操作方法**: スマホのスワイプ・スライドで画面をなぞる
- **目的**: 画面を飛び交うクッキーを切り刻む
- **クッキーの種類**: いろいろな「闇落ちしたおしゃべりクッキー」
- **切断エフェクト**: クッキーは破裂して死亡

### ゲーム進行
1. **通常フェーズ**: 100枚のクッキーを切る
2. **ボス戦**: ボスクッキーが登場
   - 20回のダメージ(カット)で撃破
3. **クリア**: クリアタイムを記録

### タイム計測
- ゲーム開始からボス撃破までの時間を計測
- クリアタイムはデータベースに保存
- 将来的にランキング機能を実装予定
  - 一度でもクリアした人だけがアクセス可能な隠し要素

### クリア画面
- "Congratulations!" メッセージ
- 「まだまだ世の中にクッキーはある！引き続き殲滅しよう！」
- タイトル画面に戻る

## サウンド設計

### BGM
- **Ura_Start**: モード突入時の効果音
- **ura_BGM**: ゲーム中のBGM
- **ura_BossStart**: ボス登場シーン(2回再生)
- **ura_BOSS_Clear**: ボス撃破・クリア時

### SE
- **ura_Cut**: スワイプ・スライドでカットする効果音

## 技術要件

### 必要な実装
- [ ] スワイプ・スライド検出システム
- [ ] クッキーの飛行パターン生成
- [ ] 切断判定とエフェクト
- [ ] クッキーの破裂アニメーション
- [ ] ボス戦システム
- [ ] タイム計測とDB保存
- [ ] 音声再生システムの拡張

### データベーススキーマ
```
cookie_destroy_scores
  - userId: string
  - username: string
  - clearTime: int (秒)
  - createdAt: timestamp
```

### 将来的な拡張
- [ ] ランキング機能(クリア者のみアクセス可能)
- [ ] 複数のボスパターン
- [ ] コンボシステム
- [ ] スコアボーナス

## UI/UXデザイン

### クリア画面のボタン配置
```
┌─────────────────────┐
│   Congratulations!  │
│                     │
│   獲得ポイント表示   │
│   タイム表示        │
│                     │
│ ┌─────────────────┐ │
│ │ タイトルへ戻る   │ │
│ └─────────────────┘ │
│                     │
│ ┌─────────────────┐ │
│ │ 怒りが収まらない │ │ ← 薄めのデザイン
│ └─────────────────┘ │
└─────────────────────┘
```

## 参考イメージ
- Fruit Ninja風のスワイプアクション
- 爽快感のあるカットエフェクト
- ダークでスタイリッシュな演出
